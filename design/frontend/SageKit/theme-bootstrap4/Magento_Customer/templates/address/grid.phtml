<?php
/**
 * Copyright Â© Magento, Inc. All rights reserved.
 * See COPYING.txt for license details.
 */

/** @var \Magento\Customer\Block\Address\Grid $block */
$customerAddressView = $block->getData('customer_address');
?>

<div class="addresses-list">

 <h2 role="heading" aria-level="2" class="font-weight-light h5 mb-4 pb-3 border-bottom title">
  <span><?= $block->escapeHtml(__('Additional Address Entries')) ?></span>
 </h2>
 
 <div class="content">
 
  <?php if ($_pAddsses = $block->getAdditionalAddresses()) : ?>
  <div class="table-responsive table-wrapper additional-addresses">
   <table class="table-bordered data table table-additional-addresses-items history" id="additional-addresses-table">

    <caption class="text-hide table-caption"><?= $block->escapeHtml(__('Additional addresses')) ?></caption>

    <thead>
     <tr>
      <th scope="col" class="font-weight-normal firstname"><?= $block->escapeHtml(__('First Name')) ?></th>
      <th scope="col" class="font-weight-normal lastname"><?= $block->escapeHtml(__('Last Name')) ?></th>
      <th scope="col" class="font-weight-normal streetaddress"><?= $block->escapeHtml(__('Street Address')) ?></th>
      <th scope="col" class="font-weight-normal city"><?= $block->escapeHtml(__('City')) ?></th>
      <th scope="col" class="font-weight-normal country"><?= $block->escapeHtml(__('Country')) ?></th>
      <th scope="col" class="font-weight-normal state"><?= $block->escapeHtml(__('State')) ?></th>
      <th scope="col" class="font-weight-normal zip"><?= $block->escapeHtml(__('Zip/Postal Code')) ?></th>
      <th scope="col" class="font-weight-normal phone"><?= $block->escapeHtml(__('Phone')) ?></th>
      <th scope="col" class="font-weight-normal actions"> </th>
     </tr>
    </thead>
    
    <tbody>
     <?php foreach ($_pAddsses as $address) : ?>
     <tr>
      <td data-th="<?= $block->escapeHtmlAttr(__('First Name')) ?>" class="font-weight-light firstname"><?= $block->escapeHtml($address->getFirstname()) ?></td>
      <td data-th="<?= $block->escapeHtmlAttr(__('Last Name')) ?>" class="font-weight-light lastname"><?= $block->escapeHtml($address->getLastname()) ?></td>
      <td data-th="<?= $block->escapeHtmlAttr(__('Street Address')) ?>" class="font-weight-light streetaddress"><?= $block->escapeHtml($block->getStreetAddress($address)) ?></td>
      <td data-th="<?= $block->escapeHtmlAttr(__('City')) ?>" class="font-weight-light city"><?= $block->escapeHtml($address->getCity()) ?></td>
      <td data-th="<?= $block->escapeHtmlAttr(__('Country')) ?>" class="font-weight-light country"><?= $block->escapeHtml($block->getCountryByCode($address->getCountryId())) ?></td>
      <td data-th="<?= $block->escapeHtmlAttr(__('State')) ?>" class="font-weight-light state"><?= $block->escapeHtml($address->getRegion()->getRegion()) ?></td>
      <td data-th="<?= $block->escapeHtmlAttr(__('Zip/Postal Code')) ?>" class="font-weight-light zip"><?= $block->escapeHtml($address->getPostcode()) ?></td>
      <td data-th="<?= $block->escapeHtmlAttr(__('Phone')) ?>" class="font-weight-light phone"><?= $block->escapeHtml($address->getTelephone()) ?></td>
      <td data-th="<?= $block->escapeHtmlAttr(__('Actions')) ?>" class="font-weight-light actions">
       <a class="action edit" href="<?= $block->escapeUrl($block->getUrl('customer/address/edit', ['id' => $address->getId()])) ?>">
        <span><?= $block->escapeHtml(__('Edit')) ?></span>
       </a>
       <a class="action delete" href="#" role="delete-address" data-address="<?= $block->escapeHtmlAttr($address->getId()) ?>">
        <span><?= $block->escapeHtml(__('Delete')) ?></span>
       </a>
      </td>
     </tr>
     <?php endforeach; ?>
    </tbody>
    
   </table>
  </div>
  
  <?php if ($block->getChildHtml('pager')) : ?>
  <div class="customer-addresses-toolbar toolbar bottom">
   <?= $block->getChildHtml('pager') ?>
  </div>
  <?php endif ?>
  
  <?php else : ?>
  <p class="font-weight-light mb-3 empty">
   <?= $block->escapeHtml(__('You have no other address entries in your address book.')) ?>
  </p>
  <?php endif ?>
  
 </div>
 
</div>

<div class="actions-toolbar">
 <div class="primary">
  <button type="button" role="add-address" title="<?= $block->escapeHtmlAttr(__('Add New Address')) ?>" class="btn btn-primary font-weight-light mb-3 action primary add">
   <span><?= $block->escapeHtml(__('Add New Address')) ?></span>
  </button>
 </div>
 <div class="secondary">
  <a class="text-dark font-weight-light action back" href="<?= $block->escapeUrl($block->getUrl('customer/account')) ?>">
   <span><?= $block->escapeHtml(__('Back')) ?></span>
  </a>
 </div>
</div>

<script type="text/x-magento-init">
 {
  ".site-main": {
   "address": {
    "deleteAddress": "td a[role='delete-address']",
    "deleteUrlPrefix": "<?= $block->escapeJs($block->escapeUrl($block->getDeleteUrl())) ?>id/",
    "addAddress": "button[role='add-address']",
    "addAddressLocation": "<?= $block->escapeJs($block->escapeUrl($block->getAddAddressUrl())) ?>"
   }
  }
 }
</script>

<?php
/**
 * Copyright Â© Magento, Inc. All rights reserved.
 * See COPYING.txt for license details.
 */

// phpcs:disable Magento2.Templates.ThisInTemplate.FoundThis

/* @var $block \Magento\Framework\View\Element\Template */
?>
<div class="block block-compare" data-bind="scope: 'compareProducts'" data-role="compare-products-sidebar">

 <h2 role="heading" aria-level="2" class="block-title font-weight-light h5 mb-4">
  <span id="block-compare-heading" aria-level="2"><?= $block->escapeHtml(__('Compare Products')) ?></span>
  <span class="counter qty d-none" data-bind="text: '(' + compareProducts().countCaption + ')', css: {'d-none': !compareProducts().count}"></span>
 </h2>
 
 <!-- ko if: compareProducts().count -->
 <div class="block-content d-none" aria-labelledby="block-compare-heading" data-bind="css: {'d-none': !compareProducts().count}">
 
  <ol id="compare-items" class="product-items product-items-names nav d-inline-block" data-bind="foreach: compareProducts().items">
   <li class="product-item nav-item mb-2">

    <input type="hidden" class="compare-item-id" data-bind="value: id"/>

    <span class="product-item-name d-inline-block mr-1">
     <a data-bind="attr: {href: product_url}, html: name" class="text-dark font-weight-light mb-1 product-item-link"></a>
    </span>
    
    <a href="#" data-bind="attr: {'data-post': remove_url}" title="<?= $block->escapeHtmlAttr(__('Remove')) ?>" class="delete text-dark font-weight-light">
     <span class="text-hide"><?= $block->escapeHtml(__('Remove')) ?></span>
     <i class="fas fa-times"></i>
    </a>

   </li>
  </ol>
  
  <div class="actions-toolbar d-flex align-items-center mt-3 mb-4">

   <div class="primary">
    <a data-bind="attr: {'href': compareProducts().listUrl}" class="action compare primary btn btn-secondary rounded-0 mr-3 d-inline-block font-weight-light">
     <span><?= $block->escapeHtml(__('Compare')) ?></span>
    </a>
   </div>
   
   <div class="secondary">
    <a id="compare-clear-all" href="#" class="action clear font-weight-light d-inline-block" data-post="<?=$block->escapeHtml($this->helper(Magento\Catalog\Helper\Product\Compare::class)->getPostDataClearList()) ?>">
     <span><?= $block->escapeHtml(__('Clear All')) ?></span>
    </a>
   </div>
   
  </div>
  
 </div>
 <!-- /ko -->
 
 <!-- ko ifnot: compareProducts().count -->
 <div class="empty font-weight-light mb-4">
  <?= $block->escapeHtml(__('You have no items to compare.')) ?>
 </div>
 <!-- /ko -->
 
</div>

<script type="text/x-magento-init">
 {"[data-role=compare-products-sidebar]": {"Magento_Ui/js/core/app": <?= /* @noEscape */ $block->getJsLayout() ?>}}
</script>
